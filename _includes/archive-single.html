{% include base_path %}

<style>
  /* Default (Light Theme) Colors */
  :root {
    --local-venue-color: #549af0;
    --local-pop-bg: #6cd5ff;    /* Bright Blue for light mode */
    --local-pop-text: #000000;
    --local-accent-glow: rgba(0, 146, 202, 0.2);
  }

  /* Dark Theme Overrides */
  html[data-theme="dark"] {
    --local-venue-color: #219b70;
    --local-pop-bg: #71c9b1; /* Vibrant Green for dark mode */
    --local-pop-text: #000000;
    --local-accent-glow: rgba(2, 215, 140, 0.4);
  }

  /* Apply the variables to your classes */
  .venue-badge-box {
    border-radius: 4px;
    padding: 7px 7px;
    box-shadow: var(--box-shadow);
    transition: transform 0.2s ease-in-out;
    margin-right: 25px;
  }

  .venue-badge-text {
    font-weight: bold; 
    font-size: 0.85em; 
    color: var(--global-text-color); 
    letter-spacing: 0.5px; 
    text-transform: uppercase;
  }

  .btn-pop {
    background-color: var(--local-pop-bg) !important;
    color: var(--local-pop-text) !important;
    border: 1px solid var(--global-border-color); 
    border-radius: 4px; 
    padding: 5px 5px;
    transition: all 0.2s ease-in-out;
  }

  .btn-pop:hover {
    filter: brightness(1.1);
    transform: translateY(-1px);
  }
</style>

{% if post.id %}
  {% assign title = post.title | markdownify | remove: "<p>" | remove: "</p>" %}
{% else %}
  {% assign title = post.title %}
{% endif %}

<div class="{{ include.type | default: "list" }}__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork" 
           style="display: flex; flex-direction: row; align-items: flex-start; margin-bottom: 2.5em; padding-bottom: 1.5em;">
    
    <div class="venue-badge-box">
      <span class="venue-badge-text">{% if post.venue_abbrev %}{{ post.venue_abbrev }}{% else %}Paper{% endif %}</span>
    </div>
    
    <div class="archive__item-content" style="flex: 1;">
      <h3 itemprop="headline" style="margin-top: 0; margin-bottom: 0.4em; border-bottom: none; line-height: 1.2;">
        {% if post.link %}
          <div style="text-decoration: none; color: var(--global-link-color);">{{ title }}</div>
        {% else %}
          <span style="color: var(--global-text-color); font-weight: 700;">{{ title }}</span>
        {% endif %}
      </h3>

      <div class="archive__item-details" style="line-height: 1.5;">
        {% if post.citation %}
          <div class="authors" style="font-size: 0.95em; color: var(--global-text-color); margin-bottom: 0.4em;">
            {{ post.citation }}
          </div>
        {% endif %}

        {% if post.excerpt %}
          <div class="venue-full" style="font-style: italic; font-size: 0.85em; color: var(--global-text-color); line-height: 1.3;">
            {{ post.excerpt | markdownify | remove: '<p>' | remove: '</p>' }}
          </div>
        {% endif %}
      </div>
      
      <div class="archive__item-resources" style="margin-top: 1.2em; display: flex; gap: 8px; flex-wrap: wrap;">
        {% if post.paperurl %}
          <a href="{{ post.paperurl }}" class="btn btn-pop">
            <i class="fas fa-file-pdf"></i> Paper
          </a>
        {% endif %}
        
        {% if post.codeurl %}
          <a href="{{ post.codeurl }}" class="btn btn-pop">
            <i class="fab fa-fw fa-github"></i> Code
          </a>
        {% endif %}

        {% if post.slidesurl %}
          <a href="{{ post.slidesurl }}" class="btn btn-pop" download>
            <i class="fas fa-file-powerpoint"></i> Slides
          </a>
        {% endif %}
      </div>
    </div>

  </article>
</div>